{"version":3,"file":"assert.js","sourceRoot":"","sources":["../src/lib/assert.ts"],"names":[],"mappings":"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","sourcesContent":["\nclass NotSameValueError<T> extends Error {\n    private _value1: T;\n    private _value2: T;\n\n    constructor(message: string, value1: T, value2: T) {\n        super(message);\n        this._value1 = value1;\n        this._value2 = value2;\n    }\n\n    get value1() {\n        return this._value1;\n    }\n\n    get value2() {\n        return this._value2;\n    }\n}\n\nexport function is<T>(a: T, b: T, message?: string) {\n    if (!Object.is(a, b)) {\n        throw new NotSameValueError(message || `Values are not the same`, a, b);\n    }\n}\n\nclass NotDeepEqualError<T> extends Error {\n    private _value1: T;\n    private _value2: T;\n\n    constructor(message: string, value1: T, value2: T) {\n        super(message);\n        this._value1 = value1;\n        this._value2 = value2;\n    }\n\n    get value1() {\n        return this._value1;\n    }\n\n    get value2() {\n        return this._value2;\n    }\n}\n\nexport function deepEqual<T>(a: T, b: T, message?: string) {\n    const seen = new Set();\n\n    function deepEqualRecursive(a: T, b: T): boolean {\n        if (seen.has(a)) {\n            throw new TypeError(\"Circular objects not supported\");\n        }\n        if (a === undefined) {\n            return b === undefined;\n        } else if (a === null) {\n            return b === null;\n        } else if (typeof a === \"number\"\n        || typeof a === \"string\"\n        || typeof a === \"boolean\"\n        || typeof a === \"bigint\"\n        || typeof a === \"symbol\") {\n            return Object.is(a, b);\n        } else if (Array.isArray(a)) {\n            seen.add(a);\n            return Array.isArray(b)\n                && a.length === b.length\n                && a.every((item, index) => deepEqualRecursive(item, b[index]));\n        } else if (Object.getPrototypeOf(a) === null\n        || Object.getPrototypeOf(a) === Object.prototype) {\n            seen.add(a);\n            return typeof b === \"object\"\n                && Object.keys(a).length === Object.keys(b).length\n                && Object.entries(a).every(([index, item]) => {\n                    const o = b as any;\n                    return deepEqualRecursive(item, o[index]);\n                });\n        }\n        throw new TypeError(\"Can't use deepEqual on value\");\n    }\n\n    if (!deepEqualRecursive(a, b)) {\n        throw new NotDeepEqualError(message || `Values are not deep equal`, a, b);\n    }\n}\n\n\nclass NotThrowsError extends Error {\n    private _function: (...args: Array<any>) => any;\n\n    constructor(message: string, func: (...args: Array<any>) => any) {\n        super(message);\n        this._function = func;\n    }\n\n    get function() {\n        return this._function;\n    }\n}\n\nexport function throws(func: ((...args: Array<any>) => any), message?: string) {\n    try {\n        func();\n        throw new NotThrowsError(message || `Function didn't throw`, func);\n    } catch {\n        // Did throw\n    }\n}\n\nexport async function throwsAsync(func: ((...args: Array<any>) => any), message?: string) {\n    try {\n        await func();\n        throw new NotThrowsError(message || `Function didn't throw`, func);\n    } catch {\n        // Did throw\n    }\n}\n\nclass NotTrueError extends Error {}\n\nexport function isTrue(value: boolean) {\n    if (!value) {\n        throw new NotTrueError(`Expected value to be true`);\n    }\n}\n\nclass NotFalseError extends Error {}\n\nexport function isFalse(value: boolean, message?: string) {\n    if (value) {\n        throw new NotFalseError(message || `Expected value to be false`);\n    }\n}\n\nclass NotInstanceOfError extends Error {\n    private _value: any;\n    private _type: any;\n\n    constructor(message: string, value: any, type: any) {\n        super(message);\n        this._value = value;\n        this._type = type;\n    }\n\n    get value() {\n        return this._value;\n    }\n\n    get type() {\n        return this._type;\n    }\n}\n\nexport function instanceOf(value: any, type: any, message?: string) {\n    if (!(value instanceof type)) {\n        throw new NotInstanceOfError(message || `Expected value to be instance`, value, type);\n    }\n}\n"]}